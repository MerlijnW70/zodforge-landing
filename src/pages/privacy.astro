---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout
  title="Privacy Policy - ZodForge Cloud"
  description="Privacy policy for ZodForge Cloud API service. Learn how we collect, use, and protect your data."
>
  <main class="min-h-screen py-20 px-4">
    <div class="max-w-4xl mx-auto">
      <!-- Header -->
      <div class="mb-12">
        <a href="/" class="text-primary-400 hover:underline mb-4 inline-block">‚Üê Back to Home</a>
        <h1 class="text-4xl md:text-5xl font-bold mb-4">Privacy Policy</h1>
        <p class="text-gray-400">Last updated: {new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</p>
      </div>

      <div class="prose prose-invert prose-lg max-w-none">
        <!-- Introduction -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">Introduction</h2>
          <p class="text-gray-300 leading-relaxed">
            ZodForge Cloud ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy explains
            how we collect, use, disclose, and safeguard your information when you use our AI-powered schema refinement
            API service.
          </p>
        </section>

        <!-- Information We Collect -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">Information We Collect</h2>

          <h3 class="text-2xl font-semibold mb-3 text-white">1. Personal Information</h3>
          <p class="text-gray-300 leading-relaxed mb-4">When you sign up for ZodForge Cloud, we collect:</p>
          <ul class="list-disc list-inside text-gray-300 space-y-2 mb-6">
            <li>Email address (required for account creation and communication)</li>
            <li>Payment information (processed securely by Stripe, we never store card details)</li>
            <li>Billing address (required for invoicing)</li>
            <li>Company name (optional, for enterprise customers)</li>
          </ul>

          <h3 class="text-2xl font-semibold mb-3 text-white">2. API Usage Data</h3>
          <p class="text-gray-300 leading-relaxed mb-4">When you use our API, we collect:</p>
          <ul class="list-disc list-inside text-gray-300 space-y-2 mb-6">
            <li>API requests and responses (temporarily for processing, not stored long-term)</li>
            <li>Usage metrics (request count, response times, error rates)</li>
            <li>API key metadata (creation date, last used, tier)</li>
            <li>IP addresses (for rate limiting and security)</li>
          </ul>

          <h3 class="text-2xl font-semibold mb-3 text-white">3. Automatically Collected Information</h3>
          <ul class="list-disc list-inside text-gray-300 space-y-2">
            <li>Browser type and version</li>
            <li>Device information</li>
            <li>Log data (access times, pages viewed)</li>
            <li>Cookies (see Cookie Policy below)</li>
          </ul>
        </section>

        <!-- How We Use Your Information -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">How We Use Your Information</h2>
          <p class="text-gray-300 leading-relaxed mb-4">We use collected information for:</p>
          <ul class="list-disc list-inside text-gray-300 space-y-2">
            <li><strong class="text-white">Service Delivery:</strong> Process API requests, refine schemas, deliver results</li>
            <li><strong class="text-white">Account Management:</strong> Create and manage your account, send API keys</li>
            <li><strong class="text-white">Billing:</strong> Process payments, send invoices, manage subscriptions</li>
            <li><strong class="text-white">Communication:</strong> Send transactional emails, service updates, security alerts</li>
            <li><strong class="text-white">Improvement:</strong> Analyze usage patterns, improve AI models, fix bugs</li>
            <li><strong class="text-white">Security:</strong> Detect fraud, prevent abuse, enforce terms of service</li>
            <li><strong class="text-white">Legal Compliance:</strong> Comply with applicable laws and regulations</li>
          </ul>
        </section>

        <!-- Data Sharing -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">How We Share Your Information</h2>
          <p class="text-gray-300 leading-relaxed mb-4">We share your information with trusted third parties:</p>

          <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-6 mb-4">
            <h3 class="text-xl font-semibold mb-2 text-white">Third-Party Services</h3>
            <ul class="list-disc list-inside text-gray-300 space-y-2">
              <li><strong class="text-white">Stripe:</strong> Payment processing (PCI DSS compliant)</li>
              <li><strong class="text-white">Supabase:</strong> Database hosting (encrypted at rest)</li>
              <li><strong class="text-white">Resend:</strong> Transactional email delivery</li>
              <li><strong class="text-white">OpenAI:</strong> AI-powered schema refinement (your schemas are processed but not stored)</li>
              <li><strong class="text-white">Anthropic:</strong> Fallback AI provider (same privacy guarantees as OpenAI)</li>
              <li><strong class="text-white">Railway:</strong> API hosting and infrastructure</li>
              <li><strong class="text-white">Vercel:</strong> Website hosting</li>
            </ul>
          </div>

          <p class="text-gray-300 leading-relaxed">
            We <strong class="text-white">do not sell</strong> your personal information to third parties. We only share
            data necessary for service delivery with vetted partners under strict confidentiality agreements.
          </p>
        </section>

        <!-- Data Retention -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">Data Retention</h2>
          <ul class="list-disc list-inside text-gray-300 space-y-2">
            <li><strong class="text-white">API Request Data:</strong> Processed in real-time, not stored (except logs for 7 days for debugging)</li>
            <li><strong class="text-white">Account Information:</strong> Retained as long as your account is active</li>
            <li><strong class="text-white">Usage Metrics:</strong> Retained for 12 months for analytics and billing</li>
            <li><strong class="text-white">Billing Records:</strong> Retained for 7 years for tax and legal compliance</li>
          </ul>
        </section>

        <!-- Your Rights -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">Your Rights (GDPR & CCPA)</h2>
          <p class="text-gray-300 leading-relaxed mb-4">You have the right to:</p>
          <ul class="list-disc list-inside text-gray-300 space-y-2">
            <li><strong class="text-white">Access:</strong> Request a copy of your personal data</li>
            <li><strong class="text-white">Rectification:</strong> Correct inaccurate or incomplete data</li>
            <li><strong class="text-white">Erasure:</strong> Request deletion of your data (account deletion)</li>
            <li><strong class="text-white">Portability:</strong> Export your data in a machine-readable format</li>
            <li><strong class="text-white">Restriction:</strong> Limit how we process your data</li>
            <li><strong class="text-white">Objection:</strong> Object to certain types of processing</li>
            <li><strong class="text-white">Withdraw Consent:</strong> Opt out of marketing communications</li>
          </ul>
          <p class="text-gray-300 leading-relaxed mt-4">
            To exercise any of these rights, email us at <a href="mailto:privacy@zodforge.dev" class="text-primary-400 hover:underline">privacy@zodforge.dev</a>
          </p>
        </section>

        <!-- Cookies -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">Cookie Policy</h2>
          <p class="text-gray-300 leading-relaxed mb-4">We use cookies for:</p>
          <ul class="list-disc list-inside text-gray-300 space-y-2">
            <li><strong class="text-white">Essential Cookies:</strong> Authentication, security, session management (required)</li>
            <li><strong class="text-white">Analytics Cookies:</strong> Understand usage patterns, improve service (optional)</li>
          </ul>
          <p class="text-gray-300 leading-relaxed mt-4">
            You can control cookies through your browser settings. Disabling essential cookies may limit functionality.
          </p>
        </section>

        <!-- Security -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">Security Measures</h2>
          <p class="text-gray-300 leading-relaxed mb-4">We implement industry-standard security:</p>
          <ul class="list-disc list-inside text-gray-300 space-y-2">
            <li>HTTPS encryption for all data in transit (TLS 1.3)</li>
            <li>Database encryption at rest (AES-256)</li>
            <li>API key hashing (bcrypt)</li>
            <li>Rate limiting and DDoS protection</li>
            <li>Regular security audits and penetration testing</li>
            <li>Access controls and least privilege principles</li>
          </ul>
          <p class="text-gray-300 leading-relaxed mt-4">
            For more details, see our <a href="/security" class="text-primary-400 hover:underline">Security page</a>.
          </p>
        </section>

        <!-- Children's Privacy -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">Children's Privacy</h2>
          <p class="text-gray-300 leading-relaxed">
            ZodForge Cloud is not intended for users under 18. We do not knowingly collect data from children.
            If we learn we have collected data from a child, we will delete it immediately.
          </p>
        </section>

        <!-- International Transfers -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">International Data Transfers</h2>
          <p class="text-gray-300 leading-relaxed">
            Your data may be transferred to and processed in countries outside your residence. We ensure adequate
            safeguards through Standard Contractual Clauses (SCCs) and ensure GDPR compliance for EU users.
          </p>
        </section>

        <!-- Changes to Policy -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">Changes to This Policy</h2>
          <p class="text-gray-300 leading-relaxed">
            We may update this Privacy Policy periodically. We will notify you of material changes via email
            or prominent notice on our website. Continued use after changes constitutes acceptance.
          </p>
        </section>

        <!-- Contact -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold mb-4 text-white">Contact Us</h2>
          <p class="text-gray-300 leading-relaxed mb-4">
            For privacy-related questions or to exercise your rights:
          </p>
          <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-6">
            <p class="text-gray-300">
              <strong class="text-white">Email:</strong> <a href="mailto:privacy@zodforge.dev" class="text-primary-400 hover:underline">privacy@zodforge.dev</a><br />
              <strong class="text-white">Support:</strong> <a href="mailto:support@zodforge.dev" class="text-primary-400 hover:underline">support@zodforge.dev</a><br />
              <strong class="text-white">Website:</strong> <a href="https://zodforge.dev" class="text-primary-400 hover:underline">https://zodforge.dev</a>
            </p>
          </div>
        </section>
      </div>
    </div>
  </main>
</BaseLayout>

<style>
  /* Enhance prose styling for dark theme */
  .prose h2 {
    margin-top: 2rem;
  }
  .prose h3 {
    margin-top: 1.5rem;
  }
  .prose a {
    transition: color 0.2s;
  }
</style>
